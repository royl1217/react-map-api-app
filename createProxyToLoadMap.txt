1) Install Wrangler (Cloudflare CLI)
npm install -g wrangler

2) Login
wrangler login

3) Create a Worker
wrangler init hkmap-proxy

Replace the generated src/index.js with the Worker code above.
4) Deploy
wrangler deploy

Youâ€™ll get a URL like:
https://hkmap-proxy.yourname.workers.dev


ğŸŸ© Use this URL in your ArcGIS VectorTileLayer
Replace:
const basemapVTURL =
  "https://mapapi.geodata.gov.hk/gs/api/v1.0.0/vt/basemap/EPSG3857";


with:
const basemapVTURL =
  "https://hkmap-proxy.yourname.workers.dev/hkmap/gs/api/v1.0.0/vt/basemap/EPSG3857";

ArcGIS will now load:
- root.json
- sprite.json
- glyphs
- vector tiles
â€¦without any Render blocking issues.

ğŸŸ¦ Why this works perfectly
âœ” Cloudflare edge nodes are in Hong Kong
HK GeoData accepts the requests.
âœ” Your Render app stays exactly the same
No backend changes needed.
âœ” No CORS issues
Worker adds permissive headers.
âœ” No rate limits for typical map usage
100k requests/day free.
âœ” Zero maintenance
No servers, no scaling, no headaches.

ğŸŸ© Want me to generate the full folder structure, wrangler.toml, and final VectorTileLayer code?
Just say â€œgive me the full Cloudflare Worker projectâ€ and Iâ€™ll assemble everything cleanly for you.
